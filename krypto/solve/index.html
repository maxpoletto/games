<!doctype html>
<html lang="en">
  <head>
    <meta charset= "UTF-8">
    <link href="https://fonts.googleapis.com/css?family=Cormorant+Garamond&display=swap" rel="stylesheet">
    <link rel="stylesheet" type="text/css" href="../style.css">
    <title>Krypto solver</title>
  </head>
  <body>
    <div id="entry">
      <p>Please enter between two and seven (<button id="why" onclick="toggleExplanation()">why?</button>) card values:</p>
      <p><input id="cards"></p>
      <p>Please enter the objective:</p>
      <p><input id="objective"></p>
      <div id="error"></div>
      <button class="button" id="solveInputs" onclick="solveInputs()">Solve</button>
    </div>
    <div id="explanation">
      <p>An arithmetic expression with seven operands (and therefore
	six operators) can be represented by a "full" binary tree (one
	in which every internal node has two children) with seven
	leaves and six internal nodes. The number of such trees with n
	internal nodes is given by the Catalan number n, C_n = (2n)! /
	(n!(n+1)!). With 6 nodes, that works out to 132 distinct
	trees.</p>
      <p>For each tree, each of the six operators can be one of plus,
	minus, times, or divide, for a total of 4^6 = 4096 combinations.</p>
      <p>And the seven operands can appear in 7! = 5040 permutations.</p>
      <p>Multiplying this all out, you get 132 * 4096 * 5040, just shy
	of three billion. With 8 operands, the number climbs to over
	70 billion.</p>
      <p>This solver is clever about eliminating duplicates (e.g., 2+3
	= 3+2), but still, the complexity grows so quickly that for
	good performance we recommend sticking to expressions of 5-6
	terms.</p>
    </div>
    <div id="ansdiv" class="text">
      <div id="noans" class="text">
	There are no solutions!
      </div>
      <table id="anstab" class="text"></table>
    </div>
    <div id="rules">
      <hr>
      <a href="https://en.wikipedia.org/wiki/Krypto_(game)">About this game</a>
    </div>
    <script src="../krypto.js"></script>
  </body>
</html>
